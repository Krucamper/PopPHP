<!DOCTYPE html>
<!-- Header //-->
<html>

<head>
    <title>
        Pop PHP Framework : Documentation
    </title>

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="author" content="Pop PHP Framework" />
    <meta name="keywords" content="pop php framework, php, php framework, php library, documentation" />
    <meta name="description" content="This is the Pop PHP Framework documentation." />
    <meta name="robots" content="all" />

    <link rel="stylesheet" type="text/css" href="http://www.popphp.org/css/docs.css" />
</head>

<body>
    <h1>Pop PHP Framework</h1>
    <h2>Documentation : Auth</h2>
    <div id="doc-content">
        <p>
            <a href="index.html"><strong>Home</strong></a>
        </p>
        <p>
            的的Auth组件方便用户的认证和授权证书和角色定义了一组基本的基础上。的认证情况处理，以确定是否允许该用户在所有用户进行身份验证。授权方面处理经过身份验证的用户确定是否有足够的访问被允许在一定的区域内。角色可以很容易地被定义和评估，以确定用户的访问级别。的的Auth组件可以很容易地连接到一个数据库表或者磁盘上的文件，以检索用户凭证和信息。
        </p>
<pre>
use Pop&#92;Auth;

// Set the username and password
$username = 'testuser1';
$password = '12test34';

// Create auth object
$auth = new Auth&#92;Auth(
    new Auth&#92;Adapter&#92;File('../assets/files/access-sha1.txt'),
    Auth&#92;Auth::ENCRYPT_SHA1
);

// Define some other auth parameters and authenticate the user
$auth-&gt;setAttemptLimit(3)
     -&gt;setAttempts(2)
     -&gt;setAllowedIps('127.0.0.1')
     -&gt;authenticate($username, $password);

echo $auth-&gt;getResultMessage() . '&lt;br /&gt; ' . PHP_EOL;

// Check if the auth attempt is valid
if ($auth-&gt;isValid()) {
    // The user is valid so do top-secret stuff
}
</pre>
<pre>
use Pop&#92;Auth;

$admin = Auth&#92;Role::factory('admin', 4);
$editor = Auth&#92;Role::factory('editor', 3);
$reader = Auth&#92;Role::factory('reader', 2);
$restricted = Auth&#92;Role::factory('restricted', 1);

$userRole = $editor;

$acl = Auth&#92;Acl::factory(array($admin, $editor, $reader));
$acl-&gt;setRequiredRole('reader');

echo '&lt;h3&gt;Reader Area&lt;/h3&gt;' . PHP_EOL;
echo 'The user is ' . ((!$acl-&gt;isAuthorized($userRole)) ? 'NOT ' : null) . 'authorized in the reader area.' . PHP_EOL;

$acl-&gt;setRequiredRole('editor');

echo '&lt;h3&gt;Editor Area&lt;/h3&gt;' . PHP_EOL;
echo 'The user is ' . ((!$acl-&gt;isAuthorized($userRole)) ? 'NOT ' : null) . 'authorized in the editor area.' . PHP_EOL;

$acl-&gt;setRequiredRole('admin');

echo '&lt;h3&gt;Admin Area&lt;/h3&gt;' . PHP_EOL;
echo 'The user is ' . ((!$acl-&gt;isAuthorized($userRole)) ? 'NOT ' : null) . 'authorized in the admin area.' . PHP_EOL;
</pre>
    </div>
    <div id="doc-footer">
        <p>
            &copy; 2009-2013 <a href="http://www.moc10media.com/">Moc 10 Media, LLC</a>. All Rights Reserved.
        </p>
    </div>
</body>

</html>

